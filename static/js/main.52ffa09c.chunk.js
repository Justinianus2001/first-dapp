(this["webpackJsonpfirst-dapp"]=this["webpackJsonpfirst-dapp"]||[]).push([[0],{225:function(e,t,n){},243:function(e,t){},246:function(e,t){},249:function(e,t){},253:function(e,t){},279:function(e,t){},281:function(e,t){},295:function(e,t){},297:function(e,t){},341:function(e,t){},342:function(e,t){},417:function(e,t){},418:function(e,t){},521:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"string","name":"initMessage","type":"string"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"oldStr","type":"string"},{"indexed":false,"internalType":"string","name":"newStr","type":"string"}],"name":"UpdatedMessages","type":"event"},{"inputs":[],"name":"message","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"newMessage","type":"string"}],"name":"update","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},522:function(e,t,n){},523:function(e,t,n){"use strict";n.r(t);var r=n(24),a=n.n(r),s=n(204),c=n.n(s),u=(n(225),n(15)),i=n(29),o=n(63),p=n(11);n(227).config();var d=(0,n(524).createAlchemyWeb3)("wss://eth-goerli.g.alchemy.com/v2/oNbB88hTkxbVMngKL03HU31eN6OqSAyr"),l=n(521),b="0x4e7A32F0e5EAA4376b33c1f3aD0593d5A72B6e8E",h=new d.eth.Contract(l,b),f=function(){var e=Object(i.a)(Object(u.a)().mark((function e(){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.methods.message().call();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(i.a)(Object(u.a)().mark((function e(){var t,n;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=18;break}return e.prev=1,e.next=4,window.ethereum.request({method:"eth_requestAccounts"});case 4:return t=e.sent,n={status:"\ud83d\udc46\ud83c\udffd Write a message in the text-field above.",address:t[0]},e.abrupt("return",n);case 9:if(e.prev=9,e.t0=e.catch(1),4001!==e.t0.code){e.next=15;break}return e.abrupt("return",{status:"\ud83d\ude25 Please connect to MetaMask to use."});case 15:return e.abrupt("return",{address:"",status:"\ud83d\ude25 "+e.t0.message});case 16:e.next=19;break;case 18:return e.abrupt("return",{address:"",status:Object(p.jsx)("span",{children:Object(p.jsxs)("p",{children:[" ","\ud83e\udd8a"," ",Object(p.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://metamask.io/download",children:"You must install Metamask, a virtual Ethereum wallet, in your browser."})]})})});case 19:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(i.a)(Object(u.a)().mark((function e(){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=17;break}return e.prev=1,e.next=4,window.ethereum.request({method:"eth_accounts"});case 4:if(!((t=e.sent).length>0)){e.next=9;break}return e.abrupt("return",{address:t[0],status:"\ud83d\udc46\ud83c\udffd Write a message in the text-field above."});case 9:return e.abrupt("return",{address:"",status:"\ud83e\udd8a Connect to Metamask using the top right button."});case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",{address:"",status:"\ud83d\ude25 "+e.t0.message});case 15:e.next=18;break;case 17:return e.abrupt("return",{address:"",status:Object(p.jsx)("span",{children:Object(p.jsxs)("p",{children:[" ","\ud83e\udd8a"," ",Object(p.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://metamask.io/download",children:"You must install Metamask, a virtual Ethereum wallet, in your browser."})]})})});case 18:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(i.a)(Object(u.a)().mark((function e(t,n){var r,a;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.ethereum&&null!==t){e.next=2;break}return e.abrupt("return",{status:"\ud83d\udca1 Connect your Metamask wallet to update the message on the blockchain."});case 2:if(""!==n.trim()){e.next=4;break}return e.abrupt("return",{status:"\u274c Your message cannot be an empty string."});case 4:return r={to:b,from:t,data:h.methods.update(n).encodeABI()},e.prev=5,e.next=8,window.ethereum.request({method:"eth_sendTransaction",params:[r]});case 8:return a=e.sent,e.abrupt("return",{status:Object(p.jsxs)("span",{children:["\u2705"," ",Object(p.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://goerli.etherscan.io/tx/".concat(a),children:"View the status of your transaction on Etherscan!"}),Object(p.jsx)("br",{}),"\u2139\ufe0f Once the transaction is verified by the network, the message will be updated automatically."]})});case 12:return e.prev=12,e.t0=e.catch(5),e.abrupt("return",{status:"\ud83d\ude25 "+e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}(),x=n.p+"static/media/alchemylogo.9821dc1c.svg",O=function(){var e=Object(r.useState)(""),t=Object(o.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(""),c=Object(o.a)(s,2),d=c[0],l=c[1],b=Object(r.useState)("No connection to the network."),O=Object(o.a)(b,2),w=O[0],v=O[1],y=Object(r.useState)(""),k=Object(o.a)(y,2),M=k[0],C=k[1];Object(r.useEffect)((function(){function e(){return e=Object(i.a)(Object(u.a)().mark((function e(){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:t=e.sent,v(t);case 4:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}function t(){return t=Object(i.a)(Object(u.a)().mark((function e(){var t,n,r;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:t=e.sent,n=t.address,r=t.status,a(n),l(r);case 7:case"end":return e.stop()}}),e)}))),t.apply(this,arguments)}!function(){e.apply(this,arguments)}(),h.events.UpdatedMessages({},(function(e,t){e?l("\ud83d\ude25 "+e.message):(v(t.returnValues[1]),C(""),l("\ud83c\udf89 Your message has been updated!"))})),function(){t.apply(this,arguments)}(),window.ethereum?window.ethereum.on("accountsChanged",(function(e){e.length>0?(a(e[0]),l("\ud83d\udc46\ud83c\udffd Write a message in the text-field above.")):(a(""),l("\ud83e\udd8a Connect to Metamask using the top right button."))})):l(Object(p.jsxs)("p",{children:[" ","\ud83e\udd8a"," ",Object(p.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://metamask.io/download",children:"You must install Metamask, a virtual Ethereum wallet, in your browser."})]}))}),[]);var S=function(){var e=Object(i.a)(Object(u.a)().mark((function e(){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:"undefined"!==typeof(t=e.sent).address&&a(t.address),l(t.status);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(i.a)(Object(u.a)().mark((function e(){var t,r;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(n,M);case 2:t=e.sent,r=t.status,l(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{id:"container",children:[Object(p.jsx)("img",{id:"logo",src:x,alt:""}),Object(p.jsx)("button",{id:"walletButton",onClick:S,children:n.length>0?"Connected: "+String(n).substring(0,6)+"..."+String(n).substring(38):Object(p.jsx)("span",{children:"Connect Wallet"})}),Object(p.jsx)("h2",{style:{paddingTop:"50px"},children:"Current Message:"}),Object(p.jsx)("p",{children:w}),Object(p.jsx)("h2",{style:{paddingTop:"18px"},children:"New Message:"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("input",{type:"text",placeholder:"Update the message in your smart contract.",onChange:function(e){return C(e.target.value)},value:M}),Object(p.jsx)("p",{id:"status",children:d}),Object(p.jsx)("button",{id:"publish",onClick:T,children:"Update"})]})]})};n(522);var w=function(){return Object(p.jsx)("div",{className:"App",children:Object(p.jsx)(O,{})})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,528)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))};c.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(w,{})}),document.getElementById("root")),v()}},[[523,1,2]]]);
//# sourceMappingURL=main.52ffa09c.chunk.js.map